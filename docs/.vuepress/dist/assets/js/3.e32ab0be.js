(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{102:function(e,t,i){},234:function(e,t){},235:function(e,t){},236:function(e,t){},237:function(e,t,i){"use strict";var r=i(102);i.n(r).a},262:function(e,t,i){"use strict";i.r(t);i(218),i(13),i(12);var r=i(0),n=(i(17),i(18));i(14);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var s={render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},props:{start:{type:Boolean,default:!1},animateKeys:{type:Object,default:function(){return{}}},animateDuration:{type:Number,default:500},animateEasing:{type:String,default:"",validator:function(e){return-1!==["","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce"].indexOf(e)}}},inject:["$canvas","fabric","$item"],computed:{canvas:function(){return this.$canvas()},item:function(){return this.$item()},definedProps:function(){var e=a({},this.$props);return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}},watch:{start:{handler:function(e){e&&Object.keys(this.animateKeys).length>=1&&this.animate()},immediate:!1}},methods:{animate:function(){var e=this,t={};""!==this.animationEasing&&(t={easing:this.fabric.util.ease[this.animationEasing]}),this.item.animate(this.animateKeys,a({duration:this.animateDuration},t,{onChange:function(){e.canvas.renderAll(),e.$emit("step",e.item)},onComplete:function(){e.$emit("complete",e.item),e.$emit("update:start",!1)}}))}}},c=i(1),u=Object(c.a)(s,void 0,void 0,!1,null,null,null).exports,l=(i(227),i(229)),d={name:"fabric-static-canvas",props:{allowTouchScrolling:Boolean,backgroundColor:String,backgroundVpt:{type:Boolean,default:!0},controlsAboveOverlay:Boolean,enableRetinaScaling:{type:Boolean,default:!0},FX_DURATION:{type:Number,default:500},imageSmoothingEnabled:{type:Boolean,default:!0},includeDefaultValues:{type:Boolean,default:!0},overlayColor:String,overlayVpt:{type:Boolean,default:!0},renderOnAddRemove:{type:Boolean,default:!0},skipOffscreen:{type:Boolean,default:!0},stateful:Boolean,svgViewportTransformation:{type:Boolean,default:!0},viewportTransform:Array}},h=["before:render","after:render","canvas:cleared","object:added","object:removed","object:modified","object:rotated","object:scaled","object:moved","object:skewed","object:rotating","object:scaling","object:moving","object:skewing","before:transform","before:selection:cleared","selection:cleared","selection:updated","selection:created","path:created","mouse:down","mouse:move","mouse:up","mouse:down:before","mouse:move:before","mouse:up:before","mouse:over","mouse:out","mouse:dblclick","event:dragover","event:dragenter","event:dragleave","event:drop"],p={name:"FabricCanvas",mixins:[d],props:{id:{type:String,required:!1,default:"c"},backgroundColor:{type:String,required:!1,default:""},width:{type:Number,required:!1,default:600},height:{type:Number,required:!1,default:400}},data:function(){return{canvas:null,type:"canvas"}},provide:function(){var e=this;return{$canvas:function(){return e.canvas},$group:function(){return null},fabric:l}},mounted:function(){var e=this;this.canvas=new l.Canvas(this.id),h.forEach((function(t){var i=t.split(":").join("-");e.canvas.on(t,(function(t){e.$emit(i,t)}))}))},beforeDestroy:function(){var e=this;h.forEach((function(t){var i=t.split(":").join("-");e.canvas.off(t,e.$emit(i))}))}},f=(i(237),Object(c.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{attrs:{id:this.id,width:this.width,height:this.height}}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports),b=(i(118),i(103));i(117);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v=["added","removed","selected","deselected","modified","moved","scaled","rotated","skewed","rotating","scaling","moving","skewing","mousedown","mouseup","mouseover","mouseout","mousewheel","mousedblclick","dragover","dragenter","dragleave","drop"],m=["angle","height","left","originX","originY","scaleX","scaleY","skewX","skewY","top","width"],O={name:"fabric-object",inheritAttrs:!1,props:{id:{type:[Number,String],required:!0},angle:Number,backgroundColor:String,borderColor:String,borderDashArray:Array,borderOpacityWhenMoving:Number,borderScaleFactor:Number,cacheProperties:Array,centeredRotation:{type:Boolean,default:!0},centeredScaling:{type:Boolean,default:!1},cornerColor:String,cornerDashArray:Array,cornerSize:Number,cornerStrokeColor:String,cornerStyle:String,dirty:{type:Boolean,default:!0},evented:{type:Boolean,default:!0},excludeFromExport:{type:Boolean,default:!1},fill:String,fillRule:String,flipX:Boolean,flipY:Boolean,globalCompositeOperation:String,hasBorders:{type:Boolean,default:!0},hasControls:{type:Boolean,default:!0},hasRotatingPoint:{type:Boolean,default:!0},height:Number,hoverCursor:String,includeDefaultValues:{type:Boolean,default:!0},inverted:{type:Boolean,default:!1},left:Number,lockMovementX:{type:Boolean,default:!1},lockMovementY:{type:Boolean,default:!1},lockRotation:{type:Boolean,default:!1},lockScalingFlip:{type:Boolean,default:!1},lockScalingX:{type:Boolean,default:!1},lockScalingY:{type:Boolean,default:!1},lockSkewingX:{type:Boolean,default:!1},lockSkewingY:{type:Boolean,default:!1},lockUniScaling:{type:Boolean,default:!1},minScaleLimit:Number,moveCursor:String,noScaleCache:{type:Boolean,default:!0},objectCaching:{type:Boolean,default:!0},opacity:Number,originX:String,originY:String,padding:Number,paintFirst:String,perPixelTargetFind:{type:Boolean,default:!1},rotatingPointOffset:Number,scaleX:Number,scaleY:Number,selectable:{type:Boolean,default:!0},selectionBackgroundColor:String,skewX:Number,skewY:Number,stateProperties:Array,stroke:String,strokeDashArray:Array,strokeDashOffset:Number,strokeLineCap:String,strokeLineJoin:String,strokeMiterLimit:Number,strokeUniform:{type:Boolean,default:!1},strokeWidth:Number,top:Number,transparentCorners:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},width:Number},inject:["$canvas","$group","fabric"],provide:function(){var e=this;return{$item:function(){return e.item}}},computed:{canvas:function(){return this.$canvas()},group:function(){return this.$group()},definedProps:function(){var e=y({},this.$props);return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e},parentType:function(){return this.group?"group":"canvas"},parentItem:function(){return"canvas"==this.parentType?this.canvas:"group"==this.parentType?this.group:void 0},item:function(){if(this.parentItem){var e=this.canvas.getObjects(),t=[];return this.transverseCanvasObjects(e,"id",this.id,t),t[0]}}},methods:{transverseCanvasObjects:function(e,t,i,r){for(var n in e)"group"==e[n].type&&e[n][t]!==i?this.transverseCanvasObjects(e[n].getObjects(),t,i,r):e[n][t]==i&&r.push(e[n])},createEvents:function(){var e=this;v.forEach((function(t){e.item.on(t,(function(i){e.$emit(t,y({id:e.id},i))}))}))},destroyEvents:function(){var e=this;v.forEach((function(t){e.item.off(t)}))},createWatchers:function(){this.createFabricItemWatchers(),this.createPropWatchers()},createFabricItemWatchers:function(){var e=this;m.forEach((function(t){var i;e.$watch("item."+t,(i=t,{handler:function(e){this.$props[i]!==e&&this.$emit("update:"+i,e)},deep:!0}))}))},createPropWatchers:function(){var e=this;Object.keys(this.$props).forEach((function(t){"undefined"!==Object(b.a)(e.customWatch)&&e.customWatch.includes(t)||e.$watch(t,function(e,t){return{handler:function(t){this.item.get(e)!==t&&(this.item.set(e,t),m.includes(e)&&this.canvas.renderAll())},deep:t}}(t,!0))}))}},beforeDestroy:function(){this.destroyEvents(),"group"==this.parentType?this.group.removeWithUpdate(this.item):this.canvas.remove(this.item)}};function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var w={name:"fabric-circle",mixins:[O],props:{top:{type:Number,default:40},left:{type:Number,default:0},radius:{type:Number,default:50},fill:{type:String,default:"blue"}},data:function(){return{circle:null,type:"circle"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.circle=new this.fabric.Circle(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.circle):this.canvas.add(this.circle),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},S=Object(c.a)(w,void 0,void 0,!1,null,null,null).exports,P=(i(139),i(140));function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var x={name:"fabric-rect",mixins:[O],props:{top:{type:Number,default:0},left:{type:Number,default:0},width:{type:Number,default:50},height:{type:Number,default:50},fill:{type:String,default:"red"}},data:function(){return{rect:null,type:"rect"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.rect=new this.fabric.Rect(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.rect):this.canvas.add(this.rect),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},k=Object(c.a)(x,void 0,void 0,!1,null,null,null).exports;function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var D,E={name:"fabric-line",mixins:[O],props:{x1:{type:Number,default:0},y1:{type:Number,default:0},x2:{type:Number,default:1},y2:{type:Number,default:1},fill:{type:String,default:"red"},stroke:{type:String,default:"red"}},data:function(){return{line:null,type:"line"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.line=new this.fabric.Line([this.x1,this.y1,this.x2,this.y2],function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.line):this.canvas.add(this.line),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},$=Object(c.a)(E,void 0,void 0,!1,null,null,null).exports,G={props:{id:{type:[Number,String],required:!0},gridSize:{type:Number,default:30},gridHeight:{type:Number,default:300},gridWidth:{type:Number,default:300},showGuideLines:{type:Boolean,default:!0},snappable:{type:Boolean,default:!0}},components:{FabricCircle:S,FabricRectangle:k,FabricLine:$},inject:["$canvas"],data:function(){return{dots:[],objectMoving:!1,objectMovingLeft:0,objectMovingTop:0,objectMovingHeight:0,objectMovingWidth:0,showLeftGuideLine:!1,showRightGuideLine:!1,showTopGuideLine:!1,showBottomGuideLine:!1}},computed:{cols:function(){return parseInt(this.gridWidth/this.gridSize)},rows:function(){return parseInt(this.gridHeight/this.gridSize)},canvas:function(){return this.$canvas()},canvasExists:function(){return"undefined"!==Object(b.a)(this.canvas)&&null!=this.canvas}},watch:{$props:{handler:function(){this.setup()},deep:!0,immediate:!0},canvasExists:{handler:function(e){var t=this;e&&(this.canvas.on("object:moved",(function(){t.finishMove()})),this.canvas.on("object:moving",(function(e){t.checkSnap(e)})))},immediate:!0}},methods:{setup:(D=Object(P.a)(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dots=[],e.next=3,this.$nextTick();case 3:for(t=1;t<this.rows;t++)for(i=1;i<this.cols;i++)this.dots.push({left:i*this.gridSize,top:t*this.gridSize});case 4:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)}),checkSnap:function(e){this.objectMoving=!0,this.objectMovingLeft=e.target.left,this.objectMovingTop=e.target.top,this.objectMovingHeight=e.target.height*e.target.scaleY,this.objectMovingWidth=e.target.width*e.target.scaleX,Math.round(e.target.left/this.gridSize*4)%4==0?(e.target.set("left",Math.round(e.target.left/this.gridSize)*this.gridSize),this.showGuideLines&&(this.showLeftGuideLine=!0)):this.showLeftGuideLine=!1,Math.round(e.target.top/this.gridSize*4)%4==0?(e.target.set("top",Math.round(e.target.top/this.gridSize)*this.gridSize),this.showGuideLines&&(this.showTopGuideLine=!0)):this.showTopGuideLine=!1,Math.round((e.target.left+this.objectMovingWidth)/this.gridSize*4)%4==0?(e.target.set("left",Math.round((e.target.left+this.objectMovingWidth)/this.gridSize)*this.gridSize-this.objectMovingWidth),this.showGuideLines&&(this.showRightGuideLine=!0)):this.showRightGuideLine=!1,Math.round((e.target.top+this.objectMovingHeight)/this.gridSize*4)%4==0?(e.target.set("top",Math.round((e.target.top+this.objectMovingHeight)/this.gridSize)*this.gridSize-this.objectMovingHeight),this.showGuideLines&&(this.showBottomGuideLine=!0)):this.showBottomGuideLine=!1},finishMove:function(){this.objectMoving=!1,this.showLeftGuideLine=!1,this.showRightGuideLine=!1,this.showTopGuideLine=!1,this.showBottomGuideLine=!1,this.objectMovingLeft=0,this.objectMovingTop=0,this.objectMovingHeight=0,this.objectMovingWidth=0}}},N=Object(c.a)(G,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("fabric-rectangle",{attrs:{id:e.id+"rect",width:e.gridWidth,height:e.gridHeight,stroke:"#ccc",fill:"transparent",selectable:!1}}),e._v(" "),e._l(e.dots,(function(t,r){return i("fabric-circle",{key:e.id+"dot"+r,attrs:{id:e.id+"dot"+r,left:t.left,top:t.top,radius:1,stroke:"#ccc",fill:"#ccc",selectable:!1}})})),e._v(" "),i("fabric-line",{attrs:{id:e.id+"leftGuideLine",visible:e.showLeftGuideLine,x1:e.objectMovingLeft,y1:0,x2:e.objectMovingLeft,y2:e.gridHeight,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"rightGuideLine",visible:e.showRightGuideLine,x1:e.objectMovingLeft+e.objectMovingWidth,y1:0,x2:e.objectMovingLeft+e.objectMovingWidth,y2:e.gridHeight,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"topGuideLine",visible:e.showTopGuideLine,x1:0,y1:e.objectMovingTop,x2:e.gridWidth,y2:e.objectMovingTop,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"bottomGuideLine",visible:e.showBottomGuideLine,x1:0,y1:e.objectMovingTop+e.objectMovingHeight,x2:e.gridWidth,y2:e.objectMovingTop+e.objectMovingHeight,selectable:!1,stroke:"rgba(102,153,255,0.5)"}})],2)}),[],!1,null,null,null).exports;function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var T={name:"fabric-ellipse",mixins:[O],props:{top:{type:Number,default:20},left:{type:Number,default:20},rx:{type:Number,default:40},ry:{type:Number,default:60},fill:{type:String,default:"Green"}},data:function(){return{ellipse:null,type:"ellipse"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.ellipse=new this.fabric.Ellipse(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.ellipse):this.canvas.add(this.ellipse),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},W=Object(c.a)(T,void 0,void 0,!1,null,null,null).exports;function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function I(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var z={render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},props:{gradientKey:{type:String,default:"fill"},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},gradientTransform:{type:Array,default:null},gradientUnits:{type:String,default:"pixels",validator:function(e){return-1!==["percentage","pixels"].indexOf(e)}},gradientType:{type:String,default:"linear",validator:function(e){return-1!==["linear","radial"].indexOf(e)}},x1:{type:Number,default:0},y1:{type:Number,default:0},x2:{type:Number,default:0},y2:{type:Number,default:0},r1:{type:Number,default:0},r2:{type:Number,default:0},colorStops:{type:Object,default:function(){return{}}}},inject:["$canvas","fabric","$item"],computed:{canvas:function(){return this.$canvas()},item:function(){return this.$item()},definedProps:function(){var e=I({},this.$props);return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e},options:function(){var e={};e="linear"===this.gradientType?{x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2}:{r1:this.r1,r2:this.r2};var t=I({type:this.gradientType},e,{colorStops:this.colorStops,gradientUnits:this.gradientUnits,offsetX:this.offsetX,offsetY:this.offsetY});return this.gradientTransform&&(t.gradientTransform=this.gradientTransform),t},validOptions:function(){return!!Object.keys(this.colorStops).length}},watch:{item:function(e){this.updategradient()},$props:{handler:function(){this.updategradient()},deep:!0,immediate:!0}},methods:{updategradient:function(){this.validOptions&&this.item&&this.item.setGradient(this.gradientKey,this.options)}}},C=Object(c.a)(z,void 0,void 0,!1,null,null,null).exports,R={props:{id:{type:[Number,String],required:!0},gridSize:{type:Number,default:30},gridHeight:{type:Number,default:300},gridWidth:{type:Number,default:300},showGuideLines:{type:Boolean,default:!0},snappable:{type:Boolean,default:!0}},components:{FabricLine:$,FabricRectangle:k},inject:["$canvas"],data:function(){return{horizontalLines:[],verticalLines:[],objectMoving:!1,objectMovingLeft:0,objectMovingTop:0,objectMovingHeight:0,objectMovingWidth:0,showLeftGuideLine:!1,showRightGuideLine:!1,showTopGuideLine:!1,showBottomGuideLine:!1}},computed:{numberofVerticalLines:function(){return parseInt(this.gridWidth/this.gridSize)},numberofHorizontalLines:function(){return parseInt(this.gridHeight/this.gridSize)},canvas:function(){return this.$canvas()},canvasExists:function(){return"undefined"!==Object(b.a)(this.canvas)&&null!=this.canvas}},watch:{$props:{handler:function(){this.setup()},deep:!0,immediate:!0},canvasExists:{handler:function(e){var t=this;e&&(this.canvas.on("object:moved",(function(){t.finishMove()})),this.canvas.on("object:moving",(function(e){t.checkSnap(e)})))},immediate:!0}},methods:{setup:function(){var e=Object(P.a)(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.horizontalLines=[],this.verticalLines=[],e.next=4,this.$nextTick();case 4:for(t=1;t<this.numberofVerticalLines;t++)this.verticalLines.push({stroke:"#ccc",selectable:!1,x1:t*this.gridSize,y1:0,x2:t*this.gridSize,y2:this.gridHeight});for(i=1;i<this.numberofHorizontalLines;i++)this.horizontalLines.push({stroke:"#ccc",selectable:!1,x1:0,y1:i*this.gridSize,x2:this.gridWidth,y2:i*this.gridSize});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),checkSnap:function(e){this.objectMoving=!0,this.objectMovingLeft=e.target.left,this.objectMovingTop=e.target.top,this.objectMovingHeight=e.target.height*e.target.scaleY,this.objectMovingWidth=e.target.width*e.target.scaleX,Math.round(e.target.left/this.gridSize*4)%4==0?(e.target.set("left",Math.round(e.target.left/this.gridSize)*this.gridSize),this.showGuideLines&&(this.showLeftGuideLine=!0)):this.showLeftGuideLine=!1,Math.round(e.target.top/this.gridSize*4)%4==0?(e.target.set("top",Math.round(e.target.top/this.gridSize)*this.gridSize),this.showGuideLines&&(this.showTopGuideLine=!0)):this.showTopGuideLine=!1,Math.round((e.target.left+this.objectMovingWidth)/this.gridSize*4)%4==0?(e.target.set("left",Math.round((e.target.left+this.objectMovingWidth)/this.gridSize)*this.gridSize-this.objectMovingWidth),this.showGuideLines&&(this.showRightGuideLine=!0)):this.showRightGuideLine=!1,Math.round((e.target.top+this.objectMovingHeight)/this.gridSize*4)%4==0?(e.target.set("top",Math.round((e.target.top+this.objectMovingHeight)/this.gridSize)*this.gridSize-this.objectMovingHeight),this.showGuideLines&&(this.showBottomGuideLine=!0)):this.showBottomGuideLine=!1},finishMove:function(){this.objectMoving=!1,this.showLeftGuideLine=!1,this.showRightGuideLine=!1,this.showTopGuideLine=!1,this.showBottomGuideLine=!1,this.objectMovingLeft=0,this.objectMovingTop=0,this.objectMovingHeight=0,this.objectMovingWidth=0}}},_=Object(c.a)(R,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("fabric-rectangle",{attrs:{id:e.id+"rect",width:e.gridWidth,height:e.gridHeight,stroke:"#ccc",fill:"transparent",selectable:!1}}),e._v(" "),e._l(e.verticalLines,(function(t,r){return i("fabric-line",e._b({key:e.id+"v"+r,attrs:{id:e.id+"v"+r}},"fabric-line",t,!1))})),e._v(" "),e._l(e.horizontalLines,(function(t,r){return i("fabric-line",e._b({key:e.id+"h"+r,attrs:{id:e.id+"h"+r}},"fabric-line",t,!1))})),e._v(" "),i("fabric-line",{attrs:{id:e.id+"leftGuideLine",visible:e.showLeftGuideLine,x1:e.objectMovingLeft,y1:0,x2:e.objectMovingLeft,y2:e.gridHeight,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"rightGuideLine",visible:e.showRightGuideLine,x1:e.objectMovingLeft+e.objectMovingWidth,y1:0,x2:e.objectMovingLeft+e.objectMovingWidth,y2:e.gridHeight,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"topGuideLine",visible:e.showTopGuideLine,x1:0,y1:e.objectMovingTop,x2:e.gridWidth,y2:e.objectMovingTop,stroke:"rgba(102,153,255,0.5)",selectable:!1}}),e._v(" "),i("fabric-line",{attrs:{id:e.id+"bottomGuideLine",visible:e.showBottomGuideLine,x1:0,y1:e.objectMovingTop+e.objectMovingHeight,x2:e.gridWidth,y2:e.objectMovingTop+e.objectMovingHeight,selectable:!1,stroke:"rgba(102,153,255,0.5)"}})],2)}),[],!1,null,null,null).exports;function H(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var U={name:"fabric-group",provide:function(){var e=this;return{$group:function(){return e.groupDef}}},mixins:[O,{name:"fabric-collection",props:{},computed:{},methods:{add:function(e){this.item.add(e)},getObjects:function(e){var t=e||"";return this.item?this.item.getObjects(t):[]},remove:function(e){this.item.remove(e)}}}],props:{subTargetCheck:{type:Boolean,default:!1}},data:function(){return{groupDef:null,type:"group"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.groupDef=new this.fabric.Group([],function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?H(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.groupDef):this.canvas.add(this.groupDef),this.createEvents(),this.createWatchers())},immediate:!0}},beforeDestroy:function(){}},A=Object(c.a)(U,void 0,void 0,!1,null,null,null).exports;function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var Y={name:"fabric-image-from-URL",mixins:[O],props:{url:{type:String,default:"../vue.png"},top:{type:Number,default:0},left:{type:Number,default:0}},data:function(){return{image:null,type:"image"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){var t=this;e&&this.fabric.Image.fromURL(this.url,(function(e){t.image=e,"group"==t.parentType?t.parentItem.addWithUpdate(t.image):t.canvas.add(t.image),t.createEvents(),t.createWatchers()}),function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps))},immediate:!0}},methods:{},beforeDestroy:function(){}},V=Object(c.a)(Y,void 0,void 0,!1,null,null,null).exports;function q(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?q(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var K={name:"fabric-path",mixins:[O],props:{path:{type:[String,Array],default:"M 0 0 L 200 100 L 170 200 z"},fill:{type:String,default:"purple"},stroke:{type:String,default:"purple"}},data:function(){return{pathObj:null,type:"path",customWatch:["path"]}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.pathObj=new this.fabric.Path(this.path,Q({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.pathObj):this.canvas.add(this.pathObj),this.createEvents(),this.createWatchers())},immediate:!0},path:function(e){this.item&&("canvas"===this.parentType&&(this.destroyEvents(),this.canvas.remove(this.item),this.pathObj=new this.fabric.Path(e,Q({},this.definedProps)),this.canvas.add(this.pathObj)),"group"===this.parentType&&(this.destroyEvents(),this.parentItem.remove(this.item),this.pathObj=new this.fabric.Path(e,Q({},this.definedProps)),this.parentItem.addWithUpdate(this.pathObj)))}}},J=Object(c.a)(K,void 0,void 0,!1,null,null,null).exports;function Z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var ee={name:"fabric-polygon",mixins:[O],props:{points:{type:Array,default:function(){return[{x:10,y:10},{x:50,y:30},{x:40,y:70},{x:60,y:50},{x:100,y:150},{x:40,y:100}]}},fill:{type:String,default:"purple"},stroke:{type:String,default:"purple"}},data:function(){return{polygon:null,type:"polygon"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.polygon=new this.fabric.Polygon(this.points,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.polygon):this.canvas.add(this.polygon),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},te=Object(c.a)(ee,void 0,void 0,!1,null,null,null).exports;function ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ne={render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},props:{affectStroke:{type:Boolean,default:!1},blur:{type:Number,default:0},color:{type:String,default:"rgb(0,0,0)"},includeDefaultValues:{type:Boolean,default:!0},nonScaling:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},inject:["$canvas","fabric","$item"],computed:{canvas:function(){return this.$canvas()},item:function(){return this.$item()},definedProps:function(){var e=re({},this.$props);return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}},watch:{$props:{handler:function(){this.applyshadow()},deep:!0,immediate:!0},item:{handler:function(e){e&&this.applyshadow()},immediate:!0}},methods:{applyshadow:function(){this.item&&this.item.setShadow(re({},this.definedProps))}}},oe=Object(c.a)(ne,void 0,void 0,!1,null,null,null).exports,ae={name:"fabric-svg-from-URL",inject:["fabric"],components:{fabricGroup:A,fabricPath:J},props:{id:{type:[Number,String],required:!0},url:{type:String,default:"../svg/pipe.svg"},top:{type:Number,default:80},left:{type:Number,default:80}},data:function(){return{objs:null}},created:function(){var e=this;this.fabric.loadSVGFromURL(this.url,(function(t,i){e.objs=t}))},methods:{},beforeDestroy:function(){}},se=Object(c.a)(ae,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("fabric-group",e._b({},"fabric-group",e.$props,!1),e._l(e.objs,(function(t,r){return i("fabric-path",e._b({key:e.id+"_"+r,attrs:{id:e.id+"_"+r}},"fabric-path",t,!1))})),1)}),[],!1,null,null,null).exports;function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var ue={name:"fabric-text",mixins:[O],props:{top:{type:Number,default:40},left:{type:Number,default:0},fontFamily:{type:String,default:"Times New Roman"},fontSize:{type:Number,default:40},fontStyle:{type:String,default:"normal"},fontWeight:{type:[Number,String],default:"normal"},text:{type:String,required:!0},textAlign:{type:String,default:"left"},textBackgroundColor:String},data:function(){return{textObj:null,type:"text"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.textObj=new this.fabric.Text(this.text,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.textObj):this.canvas.add(this.textObj),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},le=Object(c.a)(ue,void 0,void 0,!1,null,null,null).exports;function de(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}var he={name:"fabric-triangle",mixins:[O],props:{top:{type:Number,default:80},left:{type:Number,default:120},width:{type:Number,default:50},height:{type:Number,default:50},fill:{type:String,default:"yellow"}},data:function(){return{triangle:null,type:"triangle"}},render:function(e){return this.$slots.default?e("div",this.$slots.default):void 0},watch:{parentItem:{handler:function(e){e&&(this.triangle=new this.fabric.Triangle(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?de(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.definedProps)),"group"==this.parentType?this.parentItem.addWithUpdate(this.triangle):this.canvas.add(this.triangle),this.createEvents(),this.createWatchers())},immediate:!0}},methods:{},beforeDestroy:function(){}},pe=Object(c.a)(he,void 0,void 0,!1,null,null,null).exports;i.d(t,"FabricAnimation",(function(){return u})),i.d(t,"FabricCanvas",(function(){return f})),i.d(t,"FabricCircle",(function(){return S})),i.d(t,"FabricDotGrid",(function(){return N})),i.d(t,"FabricEllipse",(function(){return W})),i.d(t,"FabricGradient",(function(){return C})),i.d(t,"FabricLineGrid",(function(){return _})),i.d(t,"FabricGroup",(function(){return A})),i.d(t,"FabricImageFromURL",(function(){return V})),i.d(t,"FabricLine",(function(){return $})),i.d(t,"FabricPath",(function(){return J})),i.d(t,"FabricPolygon",(function(){return te})),i.d(t,"FabricPolyline",(function(){return $})),i.d(t,"FabricRectangle",(function(){return k})),i.d(t,"FabricShadow",(function(){return oe})),i.d(t,"FabricSVGFromURL",(function(){return se})),i.d(t,"FabricText",(function(){return le})),i.d(t,"FabricTriangle",(function(){return pe}));var fe={FabricAnimation:u,FabricCanvas:f,FabricCircle:S,FabricDotGrid:N,FabricEllipse:W,FabricGradient:C,FabricLineGrid:_,FabricGroup:A,FabricImageFromURL:V,FabricLine:$,FabricPath:J,FabricPolygon:te,FabricPolyline:$,FabricRectangle:k,FabricShadow:oe,FabricSVGFromURL:se,FabricText:le,FabricTriangle:pe};Object.keys(fe).forEach((function(e){r.a.component(e,fe[e])}));t.default=fe}}]);